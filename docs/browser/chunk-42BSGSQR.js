import{a as O}from"./chunk-DDIW74OE.js";import"./chunk-EWES4JOE.js";import{e as V,h as j}from"./chunk-Q3OPCDQA.js";import"./chunk-OZO3W66J.js";import{f as T}from"./chunk-B24EO72Z.js";import{$a as s,Bb as B,Db as I,Ga as _,Ma as r,Na as y,Za as u,_ as b,cc as E,db as o,dc as F,eb as n,fb as p,fc as M,ga as m,ha as f,ia as h,ib as w,ja as g,jb as x,kb as S,ob as P,pb as C,qb as k,sb as a,ub as v,vb as q}from"./chunk-HWFM7EIN.js";import"./chunk-5FZOKLP6.js";var L=["carousel"],D=t=>["/vistaproducto",t];function N(t,d){if(t&1&&(o(0,"p",19),a(1),n()),t&2){let e=S().$implicit;r(),v(" ",e.subtitulo," ")}}function Q(t,d){if(t&1&&(o(0,"div",13),p(1,"img",14),o(2,"div")(3,"a",15),a(4),n(),u(5,N,2,1,"p",16),o(6,"p",17),a(7),n(),o(8,"button",18),a(9," Ver detalles ... "),n()()()),t&2){let e=d.$implicit;r(),s("src","assets/producto_img/"+e.imagen,_)("alt",e.nombre),r(3),v(" ",e.nombre," "),r(),s("ngIf",e.subtitulo),r(2),q(" ",e.descripcion.slice(0,120),"",e.descripcion.length>120?"...":""," "),r(),s("routerLink",I(7,D,e.id))}}function R(t,d){if(t&1&&(o(0,"div",11),u(1,Q,10,9,"div",12),n()),t&2){let e=d.$implicit;r(),s("ngForOf",e)}}function $(t,d){t&1&&(o(0,"p",20),a(1,` No hay productos disponibles en este momento.
`),n())}var W=(()=>{class t{getProductoUrl(e){throw new Error("Method not implemented.")}constructor(e){this.productoService=e,this.productos=[],this.productosPorBloque=[],this.currentSlide=0}ngOnInit(){this.getProducto()}getProducto(){this.productoService.getProducto().subscribe({next:e=>{console.log("Respuesta completa de productos:",e),e&&Array.isArray(e)?(this.productos=e,this.productos.length>0&&(this.generarBloques(),this.updateCarousel(),this.startAutoSlide())):(console.error("No se recibieron productos o respuesta inv\xE1lida:",e),this.productos=[])},error:e=>{console.error("Error al obtener productos desde la API:",e)}})}generarBloques(){this.productosPorBloque=[];for(let i=0;i<this.productos.length;i+=4)this.productosPorBloque.push(this.productos.slice(i,i+4))}startAutoSlide(){this.intervalId=setInterval(()=>{this.nextSlide()},5e3)}updateCarousel(){let e=-this.currentSlide*100;this.carousel&&(this.carousel.nativeElement.style.transform=`translateX(${e}%)`)}prevSlide(){this.currentSlide=(this.currentSlide-1+this.productosPorBloque.length)%this.productosPorBloque.length,this.updateCarousel()}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.productosPorBloque.length,this.updateCarousel()}static{this.\u0275fac=function(i){return new(i||t)(y(O))}}static{this.\u0275cmp=b({type:t,selectors:[["app-productos"]],viewQuery:function(i,l){if(i&1&&P(L,5),i&2){let c;C(c=k())&&(l.carousel=c.first)}},standalone:!0,features:[B],decls:12,vars:2,consts:[["carousel",""],[1,"w-full","h-full","flex","items-center","justify-center","py-10","relative"],[1,"hidden","md:flex","absolute","left-4","top-1/2","transform","-translate-y-1/2","p-3","bg-white","text-gray-700","shadow-xl","border","border-gray-300","rounded-full","hover:bg-[#007F6D]","hover:scale-110","transition-all","duration-300","ease-in-out","z-10",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19l-7-7 7-7"],[1,"hidden","md:flex","absolute","right-4","top-1/2","transform","-translate-y-1/2","p-3","bg-white","text-gray-700","shadow-xl","border","border-gray-300","rounded-full","hover:bg-[#007F6D]","hover:scale-110","transition-all","duration-300","ease-in-out","z-10",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5l7 7-7 7"],[1,"overflow-hidden","w-[90%]","max-w-6xl"],[1,"flex","md:flex-row","flex-col","md:transition-transform","md:duration-500","md:ease-in-out","overflow-x-auto","scroll-smooth","touch-pan-x","snap-x","snap-mandatory"],["class","min-w-full md:min-w-full grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-6 p-6 justify-items-center items-center",4,"ngFor","ngForOf"],["class","text-gray-500 text-center mt-4",4,"ngIf"],[1,"min-w-full","md:min-w-full","grid","grid-cols-1","md:grid-cols-2","gap-x-10","gap-y-6","p-6","justify-items-center","items-center"],["class","flex items-start gap-4 border-b pb-4 w-full max-w-md snap-start",4,"ngFor","ngForOf"],[1,"flex","items-start","gap-4","border-b","pb-4","w-full","max-w-md","snap-start"],[1,"w-28","object-contain",3,"src","alt"],["href","#",1,"text-blue-600","font-bold","text-sm","hover:underline"],["class","font-semibold text-sm text-black",4,"ngIf"],[1,"text-xs","text-gray-600","mt-1","text-justify"],[1,"mt-2","bg-pink-100","text-green-700","px-2","py-1","rounded-full","text-xs","hover:bg-pink-200","transition",3,"routerLink"],[1,"font-semibold","text-sm","text-black"],[1,"text-gray-500","text-center","mt-4"]],template:function(i,l){if(i&1){let c=w();o(0,"div",1)(1,"button",2),x("click",function(){return m(c),f(l.prevSlide())}),h(),o(2,"svg",3),p(3,"path",4),n()(),g(),o(4,"button",5),x("click",function(){return m(c),f(l.nextSlide())}),h(),o(5,"svg",3),p(6,"path",6),n()(),g(),o(7,"div",7)(8,"div",8,0),u(10,R,2,1,"div",9),n()()(),u(11,$,2,0,"p",10)}i&2&&(r(10),s("ngForOf",l.productosPorBloque),r(),s("ngIf",l.productos.length===0))},dependencies:[M,E,F,T,j,V]})}}return t})();export{W as ProductosComponent};
