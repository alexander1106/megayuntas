import{a as W}from"./chunk-LAG6LJGU.js";import{a as H,b as N}from"./chunk-MFWOEJ6H.js";import{e as z,h as F,r as j}from"./chunk-VBC45PGF.js";import"./chunk-EWES4JOE.js";import"./chunk-OZO3W66J.js";import{f as V}from"./chunk-B24EO72Z.js";import{$a as a,Bb as q,Cb as k,Fa as y,Ma as l,Na as S,Za as _,_ as P,ab as O,bb as M,db as t,dc as T,eb as o,fb as c,fc as I,ga as m,gb as u,ha as f,hb as b,ib as x,jb as p,kb as d,sb as i,ub as C,xb as v,yb as E,zb as w}from"./chunk-HWFM7EIN.js";import"./chunk-5FZOKLP6.js";var A=()=>({height:"100%"}),L=()=>({minHeight:"250px"});function D(r,h){if(r&1&&(u(0),t(1,"div",14),c(2,"div",15),o(),b()),r&2){let e=d();l(2),a("innerHTML",e.htmlContent||"No hay tel\xE9fono disponible",y)}}function Q(r,h){if(r&1){let e=x();u(0),t(1,"div",16)(2,"quill-editor",17),w("ngModelChange",function(n){m(e);let g=d();return E(g.htmlContent,n)||(g.htmlContent=n),f(n)}),o()(),b()}if(r&2){let e=d();l(2),v("ngModel",e.htmlContent),a("modules",e.desktopQuillModules)("styles",k(3,A))}}function G(r,h){if(r&1){let e=x();t(0,"button",18),p("click",function(){m(e);let n=d();return f(n.guardarContenido())}),c(1,"iconify-icon",19),i(2),o()}if(r&2){let e=d();a("disabled",e.isSaving),l(),M("animate-spin",e.isSaving),a("icon",e.isSaving?"mdi:loading":"mdi:content-save"),l(),C(" ",e.isSaving?"Guardando...":"Guardar"," ")}}function B(r,h){if(r&1){let e=x();u(0),t(1,"div",20),c(2,"div",21),o(),t(3,"div",22)(4,"button",23),p("click",function(){m(e);let n=d();return f(n.toggleEditor())}),c(5,"iconify-icon",24),i(6," Editar Tel\xE9fono "),o()(),b()}if(r&2){let e=d();l(2),a("innerHTML",e.htmlContent||"No hay tel\xE9fono disponible",y)}}function U(r,h){if(r&1){let e=x();u(0),t(1,"div",25)(2,"div",26)(3,"div",27),c(4,"iconify-icon",28),t(5,"span",29),i(6,"Editor de Tel\xE9fono"),o()(),t(7,"button",30),p("click",function(){m(e);let n=d();return f(n.toggleEditor())}),c(8,"iconify-icon",31),o()()(),t(9,"div",32)(10,"quill-editor",33),w("ngModelChange",function(n){m(e);let g=d();return E(g.htmlContent,n)||(g.htmlContent=n),f(n)}),o()(),t(11,"div",34)(12,"div",35),c(13,"iconify-icon",36),t(14,"div",37)(15,"p",38),i(16,"Informaci\xF3n de contacto \xFAtil:"),o(),t(17,"p"),i(18,"\u2022 "),t(19,"strong"),i(20,"Tel\xE9fono principal:"),o(),i(21," N\xFAmero principal de contacto"),o(),t(22,"p"),i(23,"\u2022 "),t(24,"strong"),i(25,"WhatsApp:"),o(),i(26," N\xFAmero para mensajes"),o(),t(27,"p"),i(28,"\u2022 "),t(29,"strong"),i(30,"Extensiones:"),o(),i(31," Departamentos espec\xEDficos"),o(),t(32,"p"),i(33,"\u2022 "),t(34,"strong"),i(35,"Horarios:"),o(),i(36," D\xEDas y horas de atenci\xF3n"),o()()()(),t(37,"div",39)(38,"button",40),p("click",function(){m(e);let n=d();return f(n.cancelarEdicion())}),c(39,"iconify-icon",41),i(40," Cancelar "),o(),t(41,"button",42),p("click",function(){m(e);let n=d();return f(n.guardarContenido())}),c(42,"iconify-icon",19),i(43),o()(),b()}if(r&2){let e=d();l(10),v("ngModel",e.htmlContent),a("modules",e.mobileQuillModules)("styles",k(8,L)),l(31),a("disabled",e.isSaving),l(),M("animate-spin",e.isSaving),a("icon",e.isSaving?"mdi:loading":"mdi:content-save"),l(),C(" ",e.isSaving?"Guardando...":"Guardar"," ")}}var ne=(()=>{class r{constructor(e){this.empresasSvc=e,this.showEditor=!1,this.htmlContent="",this.isSaving=!1,this.originalContent="",this.desktopQuillModules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]]},this.mobileQuillModules={toolbar:{container:[["bold","italic","underline","strike"],[{header:[1,2,3,!1]},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{align:[]}],[{color:["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"]},{background:["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"]}],[{size:["small",!1,"large"]},{font:[]}],[{script:"sub"},{script:"super"},"link","image"],["clean"]]}}}ngOnInit(){this.cargarTelefono()}cargarTelefono(){this.empresasSvc.getInfoInstitucional().subscribe({next:e=>{this.info=e,this.htmlContent=e.telefono||"",this.originalContent=this.htmlContent},error:e=>{console.error("Error al cargar tel\xE9fono:",e),this.htmlContent=""}})}toggleEditor(){this.showEditor||(this.originalContent=this.htmlContent),this.showEditor=!this.showEditor}cancelarEdicion(){this.htmlContent=this.originalContent,this.showEditor=!1}onEditar(){this.showEditor=!0}guardarContenido(){this.isSaving||(this.isSaving=!0,this.empresasSvc.actualizarInfoInstitucional({telefono:this.htmlContent}).subscribe({next:()=>{this.showEditor=!1,this.isSaving=!1,this.originalContent=this.htmlContent,console.log("Tel\xE9fono actualizado:",this.htmlContent),this.mostrarMensajeExito()},error:e=>{console.error("Error al guardar tel\xE9fono:",e),this.isSaving=!1,alert("No se pudo actualizar el tel\xE9fono. Intenta de nuevo.")}}))}mostrarMensajeExito(){console.log("Tel\xE9fono guardado exitosamente")}static{this.\u0275fac=function(s){return new(s||r)(S(W))}}static{this.\u0275cmp=P({type:r,selectors:[["app-telefono"]],standalone:!0,features:[q],decls:19,vars:8,consts:[[1,"flex","flex-col","bg-white","rounded-md","shadow-sm"],[1,"p-3","md:p-4"],[1,"flex","items-center","pb-2","md:pl-2","pb-3","border-b","border-gray-100"],["icon","mdi:phone",1,"text-xl","md:text-2xl","mr-2"],[1,"text-lg","md:text-xl","font-semibold"],[1,"hidden","md:block"],[1,"rounded-md","px-4","py-2","w-full","max-w-full","mx-auto","bg-gray-200"],[1,"rounded-md","text-sm","h-full",2,"height","100%"],[4,"ngIf"],[1,"flex","justify-end","mt-4","space-x-2"],[1,"flex","items-center","bg-orange-400","text-white","rounded-full","px-4","py-2","text-sm","hover:bg-orange-500","transition-colors","duration-200",3,"click"],["icon","mdi:pencil",1,"mr-2"],["class","flex items-center bg-green-500 text-white rounded-full px-4 py-2 text-sm hover:bg-green-600 disabled:opacity-50 transition-colors duration-200",3,"disabled","click",4,"ngIf"],[1,"md:hidden"],[1,"bg-gray-200","rounded","p-4","h-full","overflow-auto"],[1,"prose","prose-sm","max-w-none",3,"innerHTML"],[1,"bg-white","rounded","h-full","flex","flex-col"],["placeholder","Ingresa los tel\xE9fonos de contacto de tu empresa...",1,"desktop-editor","flex-1",3,"ngModelChange","ngModel","modules","styles"],[1,"flex","items-center","bg-green-500","text-white","rounded-full","px-4","py-2","text-sm","hover:bg-green-600","disabled:opacity-50","transition-colors","duration-200",3,"click","disabled"],[1,"mr-2",3,"icon"],[1,"bg-gray-100","rounded-lg","p-4","mt-4","min-h-[200px]"],[1,"prose","prose-sm","max-w-none","text-sm","leading-relaxed",3,"innerHTML"],[1,"mt-4"],[1,"w-full","flex","items-center","justify-center","bg-orange-400","text-white","rounded-lg","px-4","py-3","text-sm","font-medium","hover:bg-orange-500","transition-colors","duration-200",3,"click"],["icon","mdi:pencil",1,"mr-2","text-lg"],[1,"bg-gray-50","rounded-t-lg","p-3","mt-4","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["icon","mdi:format-text",1,"text-lg","text-gray-600","mr-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"p-1","hover:bg-gray-200","rounded","transition-colors",3,"click"],["icon","mdi:close",1,"text-lg","text-gray-600"],[1,"bg-white","rounded-b-lg","border","border-gray-200","border-t-0"],["placeholder","Ingresa los n\xFAmeros de tel\xE9fono, WhatsApp, extensiones y horarios de atenci\xF3n...",1,"mobile-editor-full",3,"ngModelChange","ngModel","modules","styles"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-3","mt-3"],[1,"flex","items-start"],["icon","mdi:phone-settings",1,"text-blue-500","text-lg","mr-2","mt-0.5"],[1,"text-xs","text-blue-700"],[1,"font-medium","mb-1"],[1,"flex","space-x-3","mt-4"],[1,"flex-1","flex","items-center","justify-center","bg-orange-500","text-white","rounded-lg","px-4","py-3","text-sm","font-medium","hover:bg-gray-600","transition-colors","duration-200",3,"click"],["icon","mdi:close",1,"mr-2"],[1,"flex-1","flex","items-center","justify-center","bg-green-500","text-white","rounded-lg","px-4","py-3","text-sm","font-medium","hover:bg-green-600","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"]],template:function(s,n){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),c(3,"iconify-icon",3),t(4,"h2",4),i(5,"Tel\xE9fono"),o()(),t(6,"div",5)(7,"div",6)(8,"div",7),_(9,D,3,1,"ng-container",8)(10,Q,3,4,"ng-container",8),o()(),t(11,"div",9)(12,"button",10),p("click",function(){return n.showEditor=!n.showEditor}),c(13,"iconify-icon",11),i(14),o(),_(15,G,3,5,"button",12),o()(),t(16,"div",13),_(17,B,7,1,"ng-container",8)(18,U,44,9,"ng-container",8),o()()()),s&2&&(l(7),O("height",299,"px"),l(2),a("ngIf",!n.showEditor),l(),a("ngIf",n.showEditor),l(4),C(" ",n.showEditor?"Cerrar":"Editar"," "),l(),a("ngIf",n.showEditor),l(2),a("ngIf",!n.showEditor),l(),a("ngIf",n.showEditor))},dependencies:[I,T,j,z,F,N,H,V],styles:[".desktop-editor[_ngcontent-%COMP%]     .ql-toolbar{border-top:1px solid #ccc;border-left:1px solid #ccc;border-right:1px solid #ccc;background-color:#f8f9fa;padding:8px}.desktop-editor[_ngcontent-%COMP%]     .ql-container{border-left:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;height:calc(100% - 42px)}.desktop-editor[_ngcontent-%COMP%]     .ql-editor{padding:12px 15px;line-height:1.6;font-size:14px}@media (max-width: 767px){.mobile-editor-full[_ngcontent-%COMP%]     .ql-toolbar{border-top:none;border-left:none;border-right:none;padding:12px;background-color:#f8f9fa;border-bottom:1px solid #e5e7eb;display:block!important}.mobile-editor-full[_ngcontent-%COMP%]     .ql-container{border-left:none;border-right:none;border-bottom:none;font-size:16px}.mobile-editor-full[_ngcontent-%COMP%]     .ql-editor{padding:16px;line-height:1.6;min-height:250px}.mobile-editor-full[_ngcontent-%COMP%]     .ql-editor.ql-blank:before{font-style:normal;color:#9ca3af;font-size:14px;line-height:1.5}.mobile-editor-full[_ngcontent-%COMP%]     .ql-toolbar .ql-formats{margin-right:12px;margin-bottom:8px;display:inline-block}.mobile-editor-full[_ngcontent-%COMP%]     .ql-toolbar button, .mobile-editor-full[_ngcontent-%COMP%]     .ql-toolbar .ql-picker{padding:8px;margin:2px;min-height:36px;min-width:36px;border-radius:4px}.mobile-editor-full[_ngcontent-%COMP%]     .ql-align .ql-picker-label, .mobile-editor-full[_ngcontent-%COMP%]     .ql-align .ql-picker-item{display:flex!important;align-items:center;justify-content:center}.mobile-editor-full[_ngcontent-%COMP%]     .ql-align .ql-picker-label:before, .mobile-editor-full[_ngcontent-%COMP%]     .ql-align .ql-picker-item:before{font-size:14px!important}.mobile-editor-full[_ngcontent-%COMP%]     .ql-picker-options{max-height:250px;overflow-y:auto;z-index:1000;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 8px #0000001a}.mobile-editor-full[_ngcontent-%COMP%]     .ql-picker-item{padding:10px 12px;border-bottom:1px solid #f0f0f0}.mobile-editor-full[_ngcontent-%COMP%]     .ql-picker-item:hover{background-color:#f5f5f5}.mobile-editor-full[_ngcontent-%COMP%]     .ql-color .ql-picker-options, .mobile-editor-full[_ngcontent-%COMP%]     .ql-background .ql-picker-options{width:200px;padding:8px}.mobile-editor-full[_ngcontent-%COMP%]     .ql-color .ql-picker-item, .mobile-editor-full[_ngcontent-%COMP%]     .ql-background .ql-picker-item{width:28px;height:28px;margin:2px;border:2px solid #fff;border-radius:4px;box-shadow:0 0 0 1px #0000001a;padding:0}.mobile-editor-full[_ngcontent-%COMP%]     .ql-color .ql-picker-item:hover, .mobile-editor-full[_ngcontent-%COMP%]     .ql-background .ql-picker-item:hover{transform:scale(1.1);box-shadow:0 0 0 2px #007bff}.mobile-editor-full[_ngcontent-%COMP%]     .ql-toolbar button.ql-active, .mobile-editor-full[_ngcontent-%COMP%]     .ql-toolbar .ql-picker-label.ql-active{background-color:#007bff;color:#fff}.mobile-editor-full[_ngcontent-%COMP%]     .ql-toolbar .ql-formats:not(:last-child){border-right:1px solid #e5e7eb;padding-right:8px}}.prose[_ngcontent-%COMP%]{color:#374151}.prose[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin:.5em 0}.prose[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;margin:.4em 0}.prose[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;margin:.3em 0}.prose[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5em 0}.prose[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .prose[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:.5em 0;padding-left:1.5em}.prose[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{border-left:4px solid #d1d5db;padding-left:1em;margin:1em 0;font-style:italic;color:#6b7280}.prose[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background-color:#f3f4f6;padding:.2em .4em;border-radius:.25rem;font-family:monospace;font-size:.9em}.prose[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background-color:#f3f4f6;padding:1em;border-radius:.5rem;overflow-x:auto;margin:1em 0}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})}}return r})();export{ne as TelefonoComponent};
