import{a as L}from"./chunk-LAG6LJGU.js";import{a as z,b as B}from"./chunk-MFWOEJ6H.js";import{e as q,h as j,r as H}from"./chunk-VBC45PGF.js";import"./chunk-EWES4JOE.js";import"./chunk-OZO3W66J.js";import{f as I}from"./chunk-B24EO72Z.js";import{$a as s,Bb as T,Cb as S,Fa as y,Ma as l,Na as O,Za as h,_ as P,ab as k,bb as v,db as n,dc as F,eb as i,fb as d,fc as V,ga as c,gb as x,ha as p,hb as _,ib as f,jb as g,kb as a,sb as o,ub as C,xb as M,yb as w,zb as E}from"./chunk-HWFM7EIN.js";import"./chunk-5FZOKLP6.js";var N=()=>({height:"70%"}),D=()=>({minHeight:"250px"});function W(r,b){if(r&1&&(x(0),n(1,"div",14),d(2,"div",15),i(),_()),r&2){let e=a();l(2),s("innerHTML",e.htmlContent||"No hay contenido disponible",y)}}function G(r,b){if(r&1){let e=f();x(0),n(1,"div",16)(2,"quill-editor",17),E("ngModelChange",function(t){c(e);let u=a();return w(u.htmlContent,t)||(u.htmlContent=t),p(t)}),i()(),_()}if(r&2){let e=a();l(2),M("ngModel",e.htmlContent),s("styles",S(2,N))}}function A(r,b){if(r&1){let e=f();n(0,"button",18),g("click",function(){c(e);let t=a();return p(t.guardarContenido())}),d(1,"iconify-icon",19),o(2),i()}if(r&2){let e=a();s("disabled",e.isSaving),l(),v("animate-spin",e.isSaving),s("icon",e.isSaving?"mdi:loading":"mdi:content-save"),l(),C(" ",e.isSaving?"Guardando...":"Guardar"," ")}}function Q(r,b){if(r&1){let e=f();x(0),n(1,"div",20),d(2,"div",21),i(),n(3,"div",22)(4,"button",23),g("click",function(){c(e);let t=a();return p(t.showEditor=!t.showEditor)}),d(5,"iconify-icon",24),o(6," Editar Misi\xF3n "),i()(),_()}if(r&2){let e=a();l(2),s("innerHTML",e.htmlContent||"No hay contenido disponible",y)}}function U(r,b){if(r&1){let e=f();x(0),n(1,"div",25)(2,"div",26)(3,"div",27),d(4,"iconify-icon",28),n(5,"span",29),o(6,"Editor de Misi\xF3n"),i()(),n(7,"button",30),g("click",function(){c(e);let t=a();return p(t.showEditor=!1)}),d(8,"iconify-icon",31),i()()(),n(9,"div",32)(10,"quill-editor",33),E("ngModelChange",function(t){c(e);let u=a();return w(u.htmlContent,t)||(u.htmlContent=t),p(t)}),i()(),n(11,"div",34)(12,"div",35),d(13,"iconify-icon",36),n(14,"div",37)(15,"p",38),o(16,"Elementos clave de una misi\xF3n:"),i(),n(17,"p"),o(18,"\u2022 "),n(19,"strong"),o(20,"Prop\xF3sito:"),i(),o(21," \xBFPara qu\xE9 existe tu empresa?"),i(),n(22,"p"),o(23,"\u2022 "),n(24,"strong"),o(25,"Actividad:"),i(),o(26," \xBFQu\xE9 productos/servicios ofreces?"),i(),n(27,"p"),o(28,"\u2022 "),n(29,"strong"),o(30,"Valores:"),i(),o(31," \xBFC\xF3mo trabajas?"),i(),n(32,"p"),o(33,"\u2022 "),n(34,"strong"),o(35,"Beneficiarios:"),i(),o(36," \xBFA qui\xE9n sirves?"),i()()()(),n(37,"div",39)(38,"button",40),g("click",function(){c(e);let t=a();return p(t.showEditor=!1)}),d(39,"iconify-icon",41),o(40," Cancelar "),i(),n(41,"button",42),g("click",function(){c(e);let t=a();return p(t.guardarContenido())}),d(42,"iconify-icon",43),o(43),i()(),_()}if(r&2){let e=a();l(10),M("ngModel",e.htmlContent),s("styles",S(7,D)),l(31),s("disabled",e.isSaving),l(),v("animate-spin",e.isSaving),s("icon",e.isSaving?"mdi:loading":"mdi:content-save"),l(),C(" ",e.isSaving?"Guardando...":"Guardar"," ")}}var ne=(()=>{class r{constructor(e){this.empresasSvc=e,this.showEditor=!1,this.htmlContent="",this.isSaving=!1}ngOnInit(){console.log("MisionComponent inicializado"),this.cargarMision()}cargarMision(){this.empresasSvc.getInfoInstitucional().subscribe({next:e=>{console.log("Misi\xF3n cargada:",e),this.info=e,this.htmlContent=e.mision||"Define aqu\xED la misi\xF3n de tu empresa: su prop\xF3sito, objetivos y compromiso."},error:e=>{console.error("Error al cargar misi\xF3n:",e),this.htmlContent="Define aqu\xED la misi\xF3n de tu empresa: su prop\xF3sito, objetivos y compromiso."}})}onEditar(){this.showEditor=!0}guardarContenido(){this.isSaving||(this.isSaving=!0,console.log("Guardando misi\xF3n:",this.htmlContent),this.empresasSvc.actualizarInfoInstitucional({mision:this.htmlContent}).subscribe({next:()=>{console.log("Misi\xF3n actualizada exitosamente"),this.showEditor=!1,this.isSaving=!1},error:e=>{console.error("Error al guardar misi\xF3n:",e),this.isSaving=!1,alert("No se pudo actualizar la misi\xF3n. Intenta de nuevo.")}}))}static{this.\u0275fac=function(m){return new(m||r)(O(L))}}static{this.\u0275cmp=P({type:r,selectors:[["app-mision"]],standalone:!0,features:[T],decls:19,vars:8,consts:[[1,"flex","flex-col","bg-white","rounded-md","shadow-sm"],[1,"p-3","md:p-4"],[1,"flex","items-center","pb-2","md:pl-2","pb-3","border-b","border-gray-100"],["icon","mdi:flag",1,"text-xl","md:text-2xl","mr-2"],[1,"text-lg","md:text-xl","font-semibold"],[1,"hidden","md:block"],[1,"rounded-md","px-4","py-2","w-full","max-w-full","mx-auto","bg-gray-200"],[1,"rounded-md","text-sm","h-full",2,"height","100%"],[4,"ngIf"],[1,"flex","justify-end","mt-4","space-x-2"],[1,"flex","items-center","bg-orange-400","text-white","rounded-full","px-3","md:px-4","py-1.5","md:py-2","text-xs","md:text-sm","hover:bg-orange-500","transition-colors","duration-200",3,"click"],["icon","mdi:pencil",1,"mr-1","md:mr-2"],["class","flex items-center bg-green-500 text-white rounded-full px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm hover:bg-green-600 disabled:opacity-50 transition-colors duration-200",3,"disabled","click",4,"ngIf"],[1,"md:hidden"],[1,"bg-gray-200","rounded","p-4","h-full","overflow-auto"],[1,"prose","prose-sm","max-w-none",3,"innerHTML"],[1,"bg-white","rounded","h-full"],["placeholder","Define la misi\xF3n de tu empresa: su prop\xF3sito, objetivos y compromiso...",1,"bg-white","w-full","flex-1","h-full","ql-editor","ql-blank",3,"ngModelChange","ngModel","styles"],[1,"flex","items-center","bg-green-500","text-white","rounded-full","px-3","md:px-4","py-1.5","md:py-2","text-xs","md:text-sm","hover:bg-green-600","disabled:opacity-50","transition-colors","duration-200",3,"click","disabled"],[1,"mr-1","md:mr-2",3,"icon"],[1,"bg-gray-100","rounded-lg","p-4","mt-4","min-h-[200px]"],[1,"prose","prose-sm","max-w-none","text-sm","leading-relaxed",3,"innerHTML"],[1,"mt-4"],[1,"w-full","flex","items-center","justify-center","bg-orange-400","text-white","rounded-lg","px-4","py-3","text-sm","font-medium","hover:bg-orange-500","transition-colors","duration-200",3,"click"],["icon","mdi:pencil",1,"mr-2","text-lg"],[1,"bg-gray-50","rounded-t-lg","p-3","mt-4","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["icon","mdi:format-text",1,"text-lg","text-gray-600","mr-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"p-1","hover:bg-gray-200","rounded","transition-colors",3,"click"],["icon","mdi:close",1,"text-lg","text-gray-600"],[1,"bg-white","rounded-b-lg","border","border-gray-200","border-t-0"],["placeholder","Define la misi\xF3n de tu empresa: su prop\xF3sito, objetivos y compromiso con los clientes...",1,"mobile-editor",3,"ngModelChange","ngModel","styles"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-3","mt-3"],[1,"flex","items-start"],["icon","mdi:target",1,"text-blue-500","text-lg","mr-2","mt-0.5"],[1,"text-xs","text-blue-700"],[1,"font-medium","mb-1"],[1,"flex","space-x-3","mt-4"],[1,"flex-1","flex","items-center","justify-center","bg-orange-400","text-white","rounded-lg","px-4","py-3","text-sm","font-medium","hover:bg-gray-600","transition-colors","duration-200",3,"click"],["icon","mdi:close",1,"mr-2"],[1,"flex-1","flex","items-center","justify-center","bg-green-500","text-white","rounded-lg","px-4","py-3","text-sm","font-medium","hover:bg-green-600","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],[1,"mr-2",3,"icon"]],template:function(m,t){m&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),d(3,"iconify-icon",3),n(4,"h2",4),o(5,"Misi\xF3n"),i()(),n(6,"div",5)(7,"div",6)(8,"div",7),h(9,W,3,1,"ng-container",8)(10,G,3,3,"ng-container",8),i()(),n(11,"div",9)(12,"button",10),g("click",function(){return t.showEditor=!t.showEditor}),d(13,"iconify-icon",11),o(14),i(),h(15,A,3,5,"button",12),i()(),n(16,"div",13),h(17,Q,7,1,"ng-container",8)(18,U,44,8,"ng-container",8),i()()()),m&2&&(l(7),k("height",299,"px"),l(2),s("ngIf",!t.showEditor),l(),s("ngIf",t.showEditor),l(4),C(" ",t.showEditor?"Cerrar":"Editar"," "),l(),s("ngIf",t.showEditor),l(2),s("ngIf",!t.showEditor),l(),s("ngIf",t.showEditor))},dependencies:[V,F,H,q,j,B,z,I],styles:[".ql-editor[_ngcontent-%COMP%]{min-height:200px}.mobile-editor[_ngcontent-%COMP%]   .ql-editor[_ngcontent-%COMP%]{min-height:250px;font-size:14px}@media (max-width: 767px){.prose[_ngcontent-%COMP%]{font-size:14px;line-height:1.6}}.prose[_ngcontent-%COMP%]{color:#374151}.prose[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .prose[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .prose[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#111827;font-weight:600}.prose[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.prose[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .prose[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:1rem;padding-left:1.5rem}.prose[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}@media (max-width: 767px){.mobile-editor[_ngcontent-%COMP%]{border-radius:0 0 .5rem .5rem}.mobile-editor[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]{border-top:none;border-left:1px solid #e5e7eb;border-right:1px solid #e5e7eb;background-color:#f9fafb}.mobile-editor[_ngcontent-%COMP%]   .ql-container[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;border-left:1px solid #e5e7eb;border-right:1px solid #e5e7eb}}"]})}}return r})();export{ne as MisionComponent};
