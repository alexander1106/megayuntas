import{a as qn}from"./chunk-IW4J5LCL.js";import{a as Pt}from"./chunk-74UORZKX.js";import{c as yt,e as Ct,f as _t,g as xt,h as bt,i as Et,m as Mt,n as vt,o as St,p as Lt,q as Tt,r as It}from"./chunk-VBC45PGF.js";import"./chunk-EWES4JOE.js";import{d as ht,e as pt,h as wt}from"./chunk-Q3OPCDQA.js";import{c as mt}from"./chunk-OZO3W66J.js";import"./chunk-B24EO72Z.js";import{$ as nt,$a as m,Bb as ut,Ma as c,Na as J,Q as tt,Qa as ot,Za as I,_ as ge,bc as ct,cb as st,db as u,dc as gt,eb as d,fa as it,fb as M,fc as ft,ga as y,ha as C,ib as te,jb as P,kb as b,ob as at,pa as rt,pb as lt,qb as dt,rb as D,sb as h,tb as fe,ub as ne,xb as S,yb as L,zb as T}from"./chunk-HWFM7EIN.js";import{c as w,d as et,e as Te}from"./chunk-5FZOKLP6.js";var At=w(($i,Bt)=>{"use strict";Bt.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var k=w(O=>{"use strict";var Ie,Vn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];O.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};O.getSymbolTotalCodewords=function(e){return Vn[e]};O.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};O.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ie=e};O.isKanjiModeEnabled=function(){return typeof Ie<"u"};O.toSJIS=function(e){return Ie(e)}});var me=w(B=>{"use strict";B.L={bit:1};B.M={bit:0};B.Q={bit:3};B.H={bit:2};function kn(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return B.L;case"m":case"medium":return B.M;case"q":case"quartile":return B.Q;case"h":case"high":return B.H;default:throw new Error("Unknown EC Level: "+n)}}B.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};B.from=function(e,t){if(B.isValid(e))return e;try{return kn(e)}catch{return t}}});var Nt=w((nr,Rt)=>{"use strict";function Dt(){this.buffer=[],this.length=0}Dt.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Rt.exports=Dt});var qt=w((ir,Ft)=>{"use strict";function ie(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}ie.prototype.set=function(n,e,t,i){let r=n*this.size+e;this.data[r]=t,i&&(this.reservedBit[r]=!0)};ie.prototype.get=function(n,e){return this.data[n*this.size+e]};ie.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};ie.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};Ft.exports=ie});var Vt=w(he=>{"use strict";var Un=k().getSymbolSize;he.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=Un(e),r=i===145?26:Math.ceil((i-13)/(2*t-2))*2,o=[i-7];for(let s=1;s<t-1;s++)o[s]=o[s-1]-r;return o.push(6),o.reverse()};he.getPositions=function(e){let t=[],i=he.getRowColCoords(e),r=i.length;for(let o=0;o<r;o++)for(let s=0;s<r;s++)o===0&&s===0||o===0&&s===r-1||o===r-1&&s===0||t.push([i[o],i[s]]);return t}});var Wt=w(Ut=>{"use strict";var Wn=k().getSymbolSize,kt=7;Ut.getPositions=function(e){let t=Wn(e);return[[0,0],[t-kt,0],[0,t-kt]]}});var zt=w(_=>{"use strict";_.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var H={N1:3,N2:3,N3:40,N4:10};_.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};_.from=function(e){return _.isValid(e)?parseInt(e,10):void 0};_.getPenaltyN1=function(e){let t=e.size,i=0,r=0,o=0,s=null,a=null;for(let l=0;l<t;l++){r=o=0,s=a=null;for(let g=0;g<t;g++){let f=e.get(l,g);f===s?r++:(r>=5&&(i+=H.N1+(r-5)),s=f,r=1),f=e.get(g,l),f===a?o++:(o>=5&&(i+=H.N1+(o-5)),a=f,o=1)}r>=5&&(i+=H.N1+(r-5)),o>=5&&(i+=H.N1+(o-5))}return i};_.getPenaltyN2=function(e){let t=e.size,i=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){let s=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);(s===4||s===0)&&i++}return i*H.N2};_.getPenaltyN3=function(e){let t=e.size,i=0,r=0,o=0;for(let s=0;s<t;s++){r=o=0;for(let a=0;a<t;a++)r=r<<1&2047|e.get(s,a),a>=10&&(r===1488||r===93)&&i++,o=o<<1&2047|e.get(a,s),a>=10&&(o===1488||o===93)&&i++}return i*H.N3};_.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let o=0;o<i;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/i/5)-10)*H.N4};function zn(n,e,t){switch(n){case _.Patterns.PATTERN000:return(e+t)%2===0;case _.Patterns.PATTERN001:return e%2===0;case _.Patterns.PATTERN010:return t%3===0;case _.Patterns.PATTERN011:return(e+t)%3===0;case _.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case _.Patterns.PATTERN101:return e*t%2+e*t%3===0;case _.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case _.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}_.applyMask=function(e,t){let i=t.size;for(let r=0;r<i;r++)for(let o=0;o<i;o++)t.isReserved(o,r)||t.xor(o,r,zn(e,o,r))};_.getBestMask=function(e,t){let i=Object.keys(_.Patterns).length,r=0,o=1/0;for(let s=0;s<i;s++){t(s),_.applyMask(s,e);let a=_.getPenaltyN1(e)+_.getPenaltyN2(e)+_.getPenaltyN3(e)+_.getPenaltyN4(e);_.applyMask(s,e),a<o&&(o=a,r=s)}return r}});var Be=w(Pe=>{"use strict";var U=me(),pe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],we=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Pe.getBlocksCount=function(e,t){switch(t){case U.L:return pe[(e-1)*4+0];case U.M:return pe[(e-1)*4+1];case U.Q:return pe[(e-1)*4+2];case U.H:return pe[(e-1)*4+3];default:return}};Pe.getTotalCodewordsCount=function(e,t){switch(t){case U.L:return we[(e-1)*4+0];case U.M:return we[(e-1)*4+1];case U.Q:return we[(e-1)*4+2];case U.H:return we[(e-1)*4+3];default:return}}});var Ot=w(Ce=>{"use strict";var re=new Uint8Array(512),ye=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)re[t]=e,ye[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)re[t]=re[t-255]})();Ce.log=function(e){if(e<1)throw new Error("log("+e+")");return ye[e]};Ce.exp=function(e){return re[e]};Ce.mul=function(e,t){return e===0||t===0?0:re[ye[e]+ye[t]]}});var Ht=w(oe=>{"use strict";var Ae=Ot();oe.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)i[r+o]^=Ae.mul(e[r],t[o]);return i};oe.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let r=i[0];for(let s=0;s<t.length;s++)i[s]^=Ae.mul(t[s],r);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};oe.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=oe.mul(t,new Uint8Array([1,Ae.exp(i)]));return t}});var Kt=w((ur,jt)=>{"use strict";var Qt=Ht();function De(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}De.prototype.initialize=function(e){this.degree=e,this.genPoly=Qt.generateECPolynomial(this.degree)};De.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=Qt.mod(t,this.genPoly),r=this.degree-i.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(i,r),o}return i};jt.exports=De});var Re=w(Jt=>{"use strict";Jt.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Ne=w(F=>{"use strict";var Yt="[0-9]+",On="[A-Z $%*+\\-./:]+",se="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";se=se.replace(/u/g,"\\u");var Hn="(?:(?![A-Z0-9 $%*+\\-./:]|"+se+`)(?:.|[\r
]))+`;F.KANJI=new RegExp(se,"g");F.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");F.BYTE=new RegExp(Hn,"g");F.NUMERIC=new RegExp(Yt,"g");F.ALPHANUMERIC=new RegExp(On,"g");var Qn=new RegExp("^"+se+"$"),jn=new RegExp("^"+Yt+"$"),Kn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");F.testKanji=function(e){return Qn.test(e)};F.testNumeric=function(e){return jn.test(e)};F.testAlphanumeric=function(e){return Kn.test(e)}});var W=w(E=>{"use strict";var Jn=Re(),Fe=Ne();E.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};E.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};E.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};E.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};E.MIXED={bit:-1};E.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Jn.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};E.getBestModeForData=function(e){return Fe.testNumeric(e)?E.NUMERIC:Fe.testAlphanumeric(e)?E.ALPHANUMERIC:Fe.testKanji(e)?E.KANJI:E.BYTE};E.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};E.isValid=function(e){return e&&e.bit&&e.ccBits};function Yn(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return E.NUMERIC;case"alphanumeric":return E.ALPHANUMERIC;case"kanji":return E.KANJI;case"byte":return E.BYTE;default:throw new Error("Unknown mode: "+n)}}E.from=function(e,t){if(E.isValid(e))return e;try{return Yn(e)}catch{return t}}});var en=w(Q=>{"use strict";var _e=k(),Gn=Be(),Gt=me(),z=W(),qe=Re(),Xt=7973,Zt=_e.getBCHDigit(Xt);function Zn(n,e,t){for(let i=1;i<=40;i++)if(e<=Q.getCapacity(i,t,n))return i}function $t(n,e){return z.getCharCountIndicator(n,e)+4}function Xn(n,e){let t=0;return n.forEach(function(i){let r=$t(i.mode,e);t+=r+i.getBitsLength()}),t}function $n(n,e){for(let t=1;t<=40;t++)if(Xn(n,t)<=Q.getCapacity(t,e,z.MIXED))return t}Q.from=function(e,t){return qe.isValid(e)?parseInt(e,10):t};Q.getCapacity=function(e,t,i){if(!qe.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=z.BYTE);let r=_e.getSymbolTotalCodewords(e),o=Gn.getTotalCodewordsCount(e,t),s=(r-o)*8;if(i===z.MIXED)return s;let a=s-$t(i,e);switch(i){case z.NUMERIC:return Math.floor(a/10*3);case z.ALPHANUMERIC:return Math.floor(a/11*2);case z.KANJI:return Math.floor(a/13);case z.BYTE:default:return Math.floor(a/8)}};Q.getBestVersionForData=function(e,t){let i,r=Gt.from(t,Gt.M);if(Array.isArray(e)){if(e.length>1)return $n(e,r);if(e.length===0)return 1;i=e[0]}else i=e;return Zn(i.mode,i.getLength(),r)};Q.getEncodedBits=function(e){if(!qe.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;_e.getBCHDigit(t)-Zt>=0;)t^=Xt<<_e.getBCHDigit(t)-Zt;return e<<12|t}});var on=w(rn=>{"use strict";var Ve=k(),nn=1335,ei=21522,tn=Ve.getBCHDigit(nn);rn.getEncodedBits=function(e,t){let i=e.bit<<3|t,r=i<<10;for(;Ve.getBCHDigit(r)-tn>=0;)r^=nn<<Ve.getBCHDigit(r)-tn;return(i<<10|r)^ei}});var an=w((pr,sn)=>{"use strict";var ti=W();function Y(n){this.mode=ti.NUMERIC,this.data=n.toString()}Y.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(e){let t,i,r;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),r=parseInt(i,10),e.put(r,10);let o=this.data.length-t;o>0&&(i=this.data.substr(t),r=parseInt(i,10),e.put(r,o*3+1))};sn.exports=Y});var dn=w((wr,ln)=>{"use strict";var ni=W(),ke=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function G(n){this.mode=ni.ALPHANUMERIC,this.data=n}G.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=ke.indexOf(this.data[t])*45;i+=ke.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(ke.indexOf(this.data[t]),6)};ln.exports=G});var cn=w((yr,un)=>{"use strict";un.exports=function(e){for(var t=[],i=e.length,r=0;r<i;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319&&i>r+1){var s=e.charCodeAt(r+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,r+=1)}if(o<128){t.push(o);continue}if(o<2048){t.push(o>>6|192),t.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128);continue}if(o>=65536&&o<=1114111){t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var fn=w((Cr,gn)=>{"use strict";var ii=cn(),ri=W();function Z(n){this.mode=ri.BYTE,typeof n=="string"&&(n=ii(n)),this.data=new Uint8Array(n)}Z.getBitsLength=function(e){return e*8};Z.prototype.getLength=function(){return this.data.length};Z.prototype.getBitsLength=function(){return Z.getBitsLength(this.data.length)};Z.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};gn.exports=Z});var hn=w((_r,mn)=>{"use strict";var oi=W(),si=k();function X(n){this.mode=oi.KANJI,this.data=n}X.getBitsLength=function(e){return e*13};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=si.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};mn.exports=X});var pn=w((xr,Ue)=>{"use strict";var ae={single_source_shortest_paths:function(n,e,t){var i={},r={};r[e]=0;var o=ae.PriorityQueue.make();o.push(e,0);for(var s,a,l,g,f,v,x,A,q;!o.empty();){s=o.pop(),a=s.value,g=s.cost,f=n[a]||{};for(l in f)f.hasOwnProperty(l)&&(v=f[l],x=g+v,A=r[l],q=typeof r[l]>"u",(q||A>x)&&(r[l]=x,o.push(l,x),i[l]=a))}if(typeof t<"u"&&typeof r[t]>"u"){var V=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(V)}return i},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],i=e,r;i;)t.push(i),r=n[i],i=n[i];return t.reverse(),t},find_path:function(n,e,t){var i=ae.single_source_shortest_paths(n,e,t);return ae.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(n){var e=ae.PriorityQueue,t={},i;n=n||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Ue<"u"&&(Ue.exports=ae)});var Mn=w($=>{"use strict";var p=W(),Cn=an(),_n=dn(),xn=fn(),bn=hn(),le=Ne(),xe=k(),ai=pn();function wn(n){return unescape(encodeURIComponent(n)).length}function de(n,e,t){let i=[],r;for(;(r=n.exec(t))!==null;)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function En(n){let e=de(le.NUMERIC,p.NUMERIC,n),t=de(le.ALPHANUMERIC,p.ALPHANUMERIC,n),i,r;return xe.isKanjiModeEnabled()?(i=de(le.BYTE,p.BYTE,n),r=de(le.KANJI,p.KANJI,n)):(i=de(le.BYTE_KANJI,p.BYTE,n),r=[]),e.concat(t,i,r).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function We(n,e){switch(e){case p.NUMERIC:return Cn.getBitsLength(n);case p.ALPHANUMERIC:return _n.getBitsLength(n);case p.KANJI:return bn.getBitsLength(n);case p.BYTE:return xn.getBitsLength(n)}}function li(n){return n.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function di(n){let e=[];for(let t=0;t<n.length;t++){let i=n[t];switch(i.mode){case p.NUMERIC:e.push([i,{data:i.data,mode:p.ALPHANUMERIC,length:i.length},{data:i.data,mode:p.BYTE,length:i.length}]);break;case p.ALPHANUMERIC:e.push([i,{data:i.data,mode:p.BYTE,length:i.length}]);break;case p.KANJI:e.push([i,{data:i.data,mode:p.BYTE,length:wn(i.data)}]);break;case p.BYTE:e.push([{data:i.data,mode:p.BYTE,length:wn(i.data)}])}}return e}function ui(n,e){let t={},i={start:{}},r=["start"];for(let o=0;o<n.length;o++){let s=n[o],a=[];for(let l=0;l<s.length;l++){let g=s[l],f=""+o+l;a.push(f),t[f]={node:g,lastCount:0},i[f]={};for(let v=0;v<r.length;v++){let x=r[v];t[x]&&t[x].node.mode===g.mode?(i[x][f]=We(t[x].lastCount+g.length,g.mode)-We(t[x].lastCount,g.mode),t[x].lastCount+=g.length):(t[x]&&(t[x].lastCount=g.length),i[x][f]=We(g.length,g.mode)+4+p.getCharCountIndicator(g.mode,e))}}r=a}for(let o=0;o<r.length;o++)i[r[o]].end=0;return{map:i,table:t}}function yn(n,e){let t,i=p.getBestModeForData(n);if(t=p.from(e,i),t!==p.BYTE&&t.bit<i.bit)throw new Error('"'+n+'" cannot be encoded with mode '+p.toString(t)+`.
 Suggested mode is: `+p.toString(i));switch(t===p.KANJI&&!xe.isKanjiModeEnabled()&&(t=p.BYTE),t){case p.NUMERIC:return new Cn(n);case p.ALPHANUMERIC:return new _n(n);case p.KANJI:return new bn(n);case p.BYTE:return new xn(n)}}$.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(yn(i,null)):i.data&&t.push(yn(i.data,i.mode)),t},[])};$.fromString=function(e,t){let i=En(e,xe.isKanjiModeEnabled()),r=di(i),o=ui(r,t),s=ai.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return $.fromArray(li(a))};$.rawSplit=function(e){return $.fromArray(En(e,xe.isKanjiModeEnabled()))}});var Sn=w(vn=>{"use strict";var Ee=k(),ze=me(),ci=Nt(),gi=qt(),fi=Vt(),mi=Wt(),Qe=zt(),je=Be(),hi=Kt(),be=en(),pi=on(),wi=W(),Oe=Mn();function yi(n,e){let t=n.size,i=mi.getPositions(e);for(let r=0;r<i.length;r++){let o=i[r][0],s=i[r][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||t<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(o+a,s+l,!0,!0):n.set(o+a,s+l,!1,!0))}}function Ci(n){let e=n.size;for(let t=8;t<e-8;t++){let i=t%2===0;n.set(t,6,i,!0),n.set(6,t,i,!0)}}function _i(n,e){let t=fi.getPositions(e);for(let i=0;i<t.length;i++){let r=t[i][0],o=t[i][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(r+s,o+a,!0,!0):n.set(r+s,o+a,!1,!0)}}function xi(n,e){let t=n.size,i=be.getEncodedBits(e),r,o,s;for(let a=0;a<18;a++)r=Math.floor(a/3),o=a%3+t-8-3,s=(i>>a&1)===1,n.set(r,o,s,!0),n.set(o,r,s,!0)}function He(n,e,t){let i=n.size,r=pi.getEncodedBits(e,t),o,s;for(o=0;o<15;o++)s=(r>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(i-15+o,8,s,!0),o<8?n.set(8,i-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(i-8,8,1,!0)}function bi(n,e){let t=n.size,i=-1,r=t-1,o=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(r,a-l)){let g=!1;s<e.length&&(g=(e[s]>>>o&1)===1),n.set(r,a-l,g),o--,o===-1&&(s++,o=7)}if(r+=i,r<0||t<=r){r-=i,i=-i;break}}}function Ei(n,e,t){let i=new ci;t.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),wi.getCharCountIndicator(l.mode,n)),l.write(i)});let r=Ee.getSymbolTotalCodewords(n),o=je.getTotalCodewordsCount(n,e),s=(r-o)*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(s-i.getLengthInBits())/8;for(let l=0;l<a;l++)i.put(l%2?17:236,8);return Mi(i,n,e)}function Mi(n,e,t){let i=Ee.getSymbolTotalCodewords(e),r=je.getTotalCodewordsCount(e,t),o=i-r,s=je.getBlocksCount(e,t),a=i%s,l=s-a,g=Math.floor(i/s),f=Math.floor(o/s),v=f+1,x=g-f,A=new hi(x),q=0,V=new Array(s),Xe=new Array(s),ve=0,Fn=new Uint8Array(n.buffer);for(let K=0;K<s;K++){let Le=K<l?f:v;V[K]=Fn.slice(q,q+Le),Xe[K]=A.encode(V[K]),q+=Le,ve=Math.max(ve,Le)}let Se=new Uint8Array(i),$e=0,R,N;for(R=0;R<ve;R++)for(N=0;N<s;N++)R<V[N].length&&(Se[$e++]=V[N][R]);for(R=0;R<x;R++)for(N=0;N<s;N++)Se[$e++]=Xe[N][R];return Se}function vi(n,e,t,i){let r;if(Array.isArray(n))r=Oe.fromArray(n);else if(typeof n=="string"){let g=e;if(!g){let f=Oe.rawSplit(n);g=be.getBestVersionForData(f,t)}r=Oe.fromString(n,g||40)}else throw new Error("Invalid data");let o=be.getBestVersionForData(r,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=Ei(e,t,r),a=Ee.getSymbolSize(e),l=new gi(a);return yi(l,e),Ci(l),_i(l,e),He(l,t,0),e>=7&&xi(l,e),bi(l,s),isNaN(i)&&(i=Qe.getBestMask(l,He.bind(null,l,t))),Qe.applyMask(i,l),He(l,t,i),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:i,segments:r}}vn.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=ze.M,r,o;return typeof t<"u"&&(i=ze.from(t.errorCorrectionLevel,ze.M),r=be.from(t.version),o=Qe.from(t.maskPattern),t.toSJISFunc&&Ee.setToSJISFunction(t.toSJISFunc)),vi(e,r,i,o)}});var Ke=w(j=>{"use strict";function Ln(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}j.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:t,color:{dark:Ln(e.color.dark||"#000000ff"),light:Ln(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};j.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};j.getImageWidth=function(e,t){let i=j.getScale(e,t);return Math.floor((e+t.margin*2)*i)};j.qrToImageData=function(e,t,i){let r=t.modules.size,o=t.modules.data,s=j.getScale(r,i),a=Math.floor((r+i.margin*2)*s),l=i.margin*s,g=[i.color.light,i.color.dark];for(let f=0;f<a;f++)for(let v=0;v<a;v++){let x=(f*a+v)*4,A=i.color.light;if(f>=l&&v>=l&&f<a-l&&v<a-l){let q=Math.floor((f-l)/s),V=Math.floor((v-l)/s);A=g[o[q*r+V]?1:0]}e[x++]=A.r,e[x++]=A.g,e[x++]=A.b,e[x]=A.a}}});var Tn=w(Me=>{"use strict";var Je=Ke();function Si(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function Li(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Me.render=function(e,t,i){let r=i,o=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(o=Li()),r=Je.getOptions(r);let s=Je.getImageWidth(e.modules.size,r),a=o.getContext("2d"),l=a.createImageData(s,s);return Je.qrToImageData(l.data,e,r),Si(a,o,s),a.putImageData(l,0,0),o};Me.renderToDataURL=function(e,t,i){let r=i;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let o=Me.render(e,t,r),s=r.type||"image/png",a=r.rendererOpts||{};return o.toDataURL(s,a.quality)}});var Bn=w(Pn=>{"use strict";var Ti=Ke();function In(n,e){let t=n.a/255,i=e+'="'+n.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function Ye(n,e,t){let i=n+e;return typeof t<"u"&&(i+=" "+t),i}function Ii(n,e,t){let i="",r=0,o=!1,s=0;for(let a=0;a<n.length;a++){let l=Math.floor(a%e),g=Math.floor(a/e);!l&&!o&&(o=!0),n[a]?(s++,a>0&&l>0&&n[a-1]||(i+=o?Ye("M",l+t,.5+g+t):Ye("m",r,0),r=0,o=!1),l+1<e&&n[a+1]||(i+=Ye("h",s),s=0)):r++}return i}Pn.render=function(e,t,i){let r=Ti.getOptions(t),o=e.modules.size,s=e.modules.data,a=o+r.margin*2,l=r.color.light.a?"<path "+In(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",g="<path "+In(r.color.dark,"stroke")+' d="'+Ii(s,o,r.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+f+' shape-rendering="crispEdges">'+l+g+`</svg>
`;return typeof i=="function"&&i(null,x),x}});var Dn=w(ue=>{"use strict";var Pi=At(),Ge=Sn(),An=Tn(),Bi=Bn();function Ze(n,e,t,i,r){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!Pi())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(r=t,t=e,e=i=void 0):s===3&&(e.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=i=void 0):s===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(l,g){try{let f=Ge.create(t,i);l(n(f,e,i))}catch(f){g(f)}})}try{let l=Ge.create(t,i);r(null,n(l,e,i))}catch(l){r(l)}}ue.create=Ge.create;ue.toCanvas=Ze.bind(null,An.render);ue.toDataURL=Ze.bind(null,An.renderToDataURL);ue.toString=Ze.bind(null,function(n,e,t){return Bi.render(n,t)})});var ce=et(qn());var ee=et(Dn(),1);var Di=["qrcElement"],Rn=(()=>{class n{constructor(t,i){this.renderer=t,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new rt,this.context=null}ngOnChanges(){return Te(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(t){return this.allowEmptyString===!1?!(typeof t>"u"||t===""||t==="null"||t===null):!(typeof t>"u")}toDataURL(t){return new Promise((i,r)=>{(0,ee.toDataURL)(this.qrdata,t,(o,s)=>{o?r(o):i(s)})})}toCanvas(t,i){return new Promise((r,o)=>{(0,ee.toCanvas)(t,this.qrdata,i,s=>{s?o(s):r("success")})})}toSVG(t){return new Promise((i,r)=>{(0,ee.toString)(this.qrdata,t,(o,s)=>{o?r(o):i(s)})})}renderElement(t){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){return Te(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,r=this.imageHeight||40,o=this.imageWidth||40;switch(this.elementType){case"canvas":{let s=this.renderer.createElement("canvas");this.context=s.getContext("2d"),this.toCanvas(s,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(s,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(s,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(o,r),i!==this.centerImage.src&&(this.centerImage.src=i),r!==this.centerImage.height&&(this.centerImage.height=r),o!==this.centerImage.width&&(this.centerImage.width=o);let a=this.centerImage;a&&(a.onload=()=>{this.context?.drawImage(a,s.width/2-o/2,s.height/2-r/2,o,r)})}this.renderElement(s),this.emitQRCodeURL(s)}).catch(a=>{console.error("[angularx-qrcode] canvas error:",a)});break}case"svg":{let s=this.renderer.createElement("div");this.toSVG(t).then(a=>{this.renderer.setProperty(s,"innerHTML",a);let l=s.firstChild;this.renderer.setAttribute(l,"height",`${this.width}`),this.renderer.setAttribute(l,"width",`${this.width}`),this.renderElement(l),this.emitQRCodeURL(l)}).catch(a=>{console.error("[angularx-qrcode] svg error:",a)});break}case"url":case"img":default:{let s=this.renderer.createElement("img");this.toDataURL(t).then(a=>{this.alt&&s.setAttribute("alt",this.alt),this.ariaLabel&&s.setAttribute("aria-label",this.ariaLabel),s.setAttribute("src",a),this.title&&s.setAttribute("title",this.title),this.renderElement(s),this.emitQRCodeURL(s)}).catch(a=>{console.error("[angularx-qrcode] img/url error:",a)})}}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}})}emitQRCodeURL(t){let i=t.constructor.name;if(i===SVGSVGElement.name){let o=t.outerHTML,s=new Blob([o],{type:"image/svg+xml"}),a=URL.createObjectURL(s),l=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(l);return}let r="";i===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),i===HTMLImageElement.name&&(r=t.src),fetch(r).then(o=>o.blob()).then(o=>URL.createObjectURL(o)).then(o=>this.sanitizer.bypassSecurityTrustUrl(o)).then(o=>{this.qrCodeURL.emit(o)}).catch(o=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+o)})}static{this.\u0275fac=function(i){return new(i||n)(J(ot),J(mt))}}static{this.\u0275cmp=ge({type:n,selectors:[["qrcode"]],viewQuery:function(i,r){if(i&1&&at(Di,7),i&2){let o;lt(o=dt())&&(r.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[it],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){i&1&&M(0,"div",null,0),i&2&&st(r.cssClass)},encapsulation:2,changeDetection:0})}}return n})(),Nn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=tt({})}}return n})();function Ni(n,e){if(n&1){let t=te();u(0,"form",24,0),P("ngSubmit",function(){y(t);let r=D(1),o=b();return C(o.onLogin(r))}),u(2,"div",25)(3,"div",48)(4,"div",28),M(5,"iconify-icon",49),d(),u(6,"input",50),T("ngModelChange",function(r){y(t);let o=b();return L(o.loginData.user,r)||(o.loginData.user=r),C(r)}),d()()(),u(7,"div",27)(8,"div",28),M(9,"iconify-icon",29),d(),u(10,"input",30),T("ngModelChange",function(r){y(t);let o=b();return L(o.loginData.password,r)||(o.loginData.password=r),C(r)}),d(),u(11,"button",31),P("click",function(){y(t);let r=b();return C(r.togglePasswordVisibility())}),M(12,"iconify-icon",32),d()(),u(13,"a",33),h(14,` \xBFOlvidaste tu contrase\xF1a?
`),d(),u(15,"button",34),h(16," Iniciar sesi\xF3n "),d()()}if(n&2){let t=b();c(6),S("ngModel",t.loginData.user),c(4),m("type",t.showPassword?"text":"password"),S("ngModel",t.loginData.password),c(2),m("icon",t.showPassword?"mdi:eye":"mdi:eye-off")}}function Fi(n,e){n&1&&(u(0,"div"),h(1,"El nombre es obligatorio."),d())}function qi(n,e){n&1&&(u(0,"div"),h(1,"Debe tener al menos 4 caracteres."),d())}function Vi(n,e){n&1&&(u(0,"div"),h(1,"Solo letras y espacios, sin caracteres especiales."),d())}function ki(n,e){if(n&1&&(u(0,"div",60),I(1,Fi,2,0,"div",61)(2,qi,2,0,"div",61)(3,Vi,2,0,"div",61),d()),n&2){b();let t=D(6);c(),m("ngIf",t.errors==null?null:t.errors.required),c(),m("ngIf",t.errors==null?null:t.errors.minlength),c(),m("ngIf",t.errors==null?null:t.errors.pattern)}}function Ui(n,e){n&1&&(u(0,"div"),h(1,"El correo es obligatorio."),d())}function Wi(n,e){if(n&1&&(u(0,"div",60),I(1,Ui,2,0,"div",61),d()),n&2){b();let t=D(13);c(),m("ngIf",t.errors==null?null:t.errors.required)}}function zi(n,e){n&1&&(u(0,"div"),h(1,"La contrase\xF1a es obligatoria."),d())}function Oi(n,e){n&1&&(u(0,"div"),h(1," Debe tener al menos 6 caracteres, una may\xFAscula, un n\xFAmero y un car\xE1cter especial. "),d())}function Hi(n,e){if(n&1&&(u(0,"div",60),I(1,zi,2,0,"div",61)(2,Oi,2,0,"div",61),d()),n&2){b();let t=D(26);c(),m("ngIf",t.errors==null?null:t.errors.required),c(),m("ngIf",t.errors==null?null:t.errors.pattern)}}function Qi(n,e){n&1&&(u(0,"div",60),h(1," Las contrase\xF1as no coinciden. "),d())}function ji(n,e){if(n&1){let t=te();u(0,"form",24),P("ngSubmit",function(){y(t);let r=b();return C(r.onRegister())}),u(1,"div",25)(2,"div",48)(3,"div",28),M(4,"iconify-icon",51),d(),u(5,"input",52,1),T("ngModelChange",function(r){y(t);let o=b();return L(o.registerData.nombres,r)||(o.registerData.nombres=r),C(r)}),d()(),I(7,ki,4,3,"div",53),d(),u(8,"div",25)(9,"div",48)(10,"div",28),M(11,"iconify-icon",49),d(),u(12,"input",54,2),T("ngModelChange",function(r){y(t);let o=b();return L(o.registerData.username,r)||(o.registerData.username=r),C(r)}),d()()(),u(14,"div",25)(15,"div",48)(16,"div",28),M(17,"iconify-icon",55),d(),u(18,"input",56,2),T("ngModelChange",function(r){y(t);let o=b();return L(o.registerData.email,r)||(o.registerData.email=r),C(r)}),d()(),I(20,Wi,2,1,"div",53),d(),u(21,"div",25)(22,"div",48)(23,"div",28),M(24,"iconify-icon",29),d(),u(25,"input",57,3),T("ngModelChange",function(r){y(t);let o=b();return L(o.registerData.password,r)||(o.registerData.password=r),C(r)}),d(),u(27,"button",31),P("click",function(){y(t);let r=b();return C(r.togglePasswordVisibility())}),M(28,"iconify-icon",32),d()(),I(29,Hi,3,2,"div",53),d(),u(30,"div",25)(31,"div",48)(32,"div",28),M(33,"iconify-icon",58),d(),u(34,"input",59,4),T("ngModelChange",function(r){y(t);let o=b();return L(o.registerData.confirmPassword,r)||(o.registerData.confirmPassword=r),C(r)}),d()(),I(36,Qi,2,0,"div",53),d(),u(37,"button",44),h(38," Registrarse "),d()()}if(n&2){let t=D(6),i=D(13),r=D(26),o=D(35),s=b();c(5),S("ngModel",s.registerData.nombres),c(2),m("ngIf",t.invalid&&t.touched),c(5),S("ngModel",s.registerData.username),c(6),S("ngModel",s.registerData.email),c(2),m("ngIf",i.invalid&&i.touched),c(5),m("type",s.showPassword?"text":"password"),S("ngModel",s.registerData.password),c(3),m("icon",s.showPassword?"mdi:eye":"mdi:eye-off"),c(),m("ngIf",r.invalid&&r.touched),c(5),S("ngModel",s.registerData.confirmPassword),c(2),m("ngIf",o.touched&&s.registerData.confirmPassword!==s.registerData.password)}}function Ki(n,e){if(n&1&&(u(0,"div",62),h(1),d()),n&2){let t=b();c(),ne(" ",t.error," ")}}function Ji(n,e){if(n&1&&(u(0,"div",62),h(1),d()),n&2){let t=b();c(),ne(" ",t.error," ")}}function Yi(n,e){if(n&1&&(u(0,"div",62),h(1),d()),n&2){let t=b();c(),ne(" ",t.error," ")}}function Gi(n,e){n&1&&(u(0,"div",63)(1,"div",64)(2,"span",65),h(3,"Cargando..."),d()()())}function Zi(n,e){if(n&1&&(u(0,"div",75),M(1,"qrcode",76),u(2,"p",77),h(3,"Escanea este c\xF3digo con Google Authenticator"),d()()),n&2){let t=b(2);c(),m("qrdata",t.qrCodeUrl)("width",200)("errorCorrectionLevel","M")}}function Xi(n,e){if(n&1){let t=te();u(0,"div",66)(1,"div",67)(2,"h3",68),h(3,"Verificaci\xF3n 2FA"),d(),I(4,Zi,4,3,"div",69),u(5,"p",70),h(6,"Ingresa el c\xF3digo de 6 d\xEDgitos"),d(),u(7,"input",71),T("ngModelChange",function(r){y(t);let o=b();return L(o.tokenTemporal,r)||(o.tokenTemporal=r),C(r)}),d(),u(8,"div",72)(9,"button",73),P("click",function(){y(t);let r=b();return C(r.verificarCodigo2FA())}),h(10," Verificar "),d(),u(11,"button",74),P("click",function(){y(t);let r=b();return C(r.mostrarModalOTP=!1)}),h(12," Cancelar "),d()()()()}if(n&2){let t=b();c(4),m("ngIf",t.qrCodeUrl),c(3),S("ngModel",t.tokenTemporal)}}var Qr=(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.isForgotPasswordMode=!1,this.loginData={user:"",password:""},this.registerData={nombres:"",apellidos:"",username:"",password:"",confirmPassword:"",email:"",suscripcion:1,idRol:1},this.error="",this.isLoginMode=!0,this.username="",this.tokenTemporal="",this.mostrarModalOTP=!1,this.isLoading=!1,this.showPassword=!1,this.qrCodeUrl=""}onLogin(t){t.invalid||(this.isLoading=!0,this.authService.login(this.loginData.user,this.loginData.password).subscribe({next:i=>{console.log("\u{1F539} Respuesta del servidor:",i);let r=i?.data;if(!r){console.error("\u274C No hay data en la respuesta del backend."),this.isLoading=!1;return}if(r.require2FA){console.log("\u{1F7E1} Usuario requiere 2FA, mostrando QR..."),this.username=r.username,this.enable2FA(r.username),this.isLoading=!1;return}r.token?(console.log("\u2705 Token recibido, guardando y redirigiendo..."),localStorage.setItem("token",r.token),this.router.navigate(["/admin"]).then(o=>{console.log("\u27A1\uFE0F Navegaci\xF3n a dashboard:",o)})):console.warn("\u26A0\uFE0F No se recibi\xF3 token v\xE1lido del backend."),this.isLoading=!1},error:i=>{this.isLoading=!1,console.error("\u274C Error al iniciar sesi\xF3n:",i),ce.default.fire({icon:"error",title:"Error de autenticaci\xF3n",text:"Credenciales incorrectas o error en el servidor."})}}))}onRegister(){if(this.registerData.password!==this.registerData.confirmPassword){this.error="Las contrase\xF1as no coinciden";return}console.log("Datos de registro:",this.registerData),this.authService.registerUser(this.registerData).subscribe({next:t=>{console.log("\u2705 Usuario registrado:",t),ce.default.fire({icon:"success",title:"Registro exitoso",text:"Tu cuenta ha sido creada correctamente."}),this.isLoginMode=!0},error:t=>{console.error("\u274C Error en registro:",t),ce.default.fire({icon:"error",title:"Error al registrar",text:"No se pudo crear el usuario. Int\xE9ntalo nuevamente."})}})}toggleMode(){this.isLoginMode=!this.isLoginMode,this.error=""}togglePasswordVisibility(){this.showPassword=!this.showPassword}verificarCodigo2FA(){if(!this.tokenTemporal||this.tokenTemporal.length!==6){this.error="Ingrese un c\xF3digo v\xE1lido de 6 d\xEDgitos";return}this.authService.verify2FA(this.username,this.tokenTemporal).subscribe({next:t=>{localStorage.setItem("token",t.token),this.mostrarModalOTP=!1,this.router.navigate(["/admin"])},error:t=>{this.error="C\xF3digo 2FA incorrecto o expirado"}})}enable2FA(t){this.authService.enable2FA(t).subscribe({next:i=>{console.log("Respuesta del backend:",i),this.qrCodeUrl=i.otpAuthUrl,this.mostrarModalOTP=!0},error:i=>{console.error(i),ce.default.fire("Error","No se pudo activar el 2FA","error")}})}static{this.\u0275fac=function(i){return new(i||n)(J(Pt),J(ht))}}static{this.\u0275cmp=ge({type:n,selectors:[["app-login"]],standalone:!0,features:[ut],decls:68,vars:26,consts:[["loginForm","ngForm"],["registerName","ngModel"],["registerEmail","ngModel"],["registerPassword","ngModel"],["confirmPassword","ngModel"],[1,"min-h-screen","w-full","h-screen","bg-white","font-sans"],[1,"relative","w-full","h-full","overflow-hidden"],[1,"absolute","inset-0","flex","w-full","h-full","md:flex"],[1,"w-full","md:w-1/2","h-full","p-10","flex","flex-col","justify-center","items-center","transition-all","duration-700","ease-in-out","transform",3,"ngClass"],[1,"absolute","top-8","w-full","px-10","z-20","flex","transition-all","duration-700","ease-in-out",3,"ngClass"],["src","../../assets/Logo_Megayuntas2.png","alt","Megayuntas",1,"w-[200px]","max-w-full"],[1,"text-[44px]","font-bold","text-center","mb-6"],["class","w-full max-w-md",3,"ngSubmit",4,"ngIf"],["class","mt-4 text-red-500 text-center text-sm",4,"ngIf"],[1,"hidden","md:flex","w-1/2","h-full","text-white","flex-col","items-center","justify-center","p-10","transition-all","duration-700","ease-in-out","transform",3,"ngClass"],[1,"max-w-xs","text-center"],[1,"text-[60px]","font-bold","mb-5"],[1,"text-xl","mb-6"],[1,"border","border-white","px-6","py-2","rounded-full","font-semibold","hover:bg-white","hover:text-black","transition",3,"click"],[1,"md:hidden","w-full","h-full","p-6","flex","flex-col","items-center","justify-center"],[1,"md:hidden","w-full","h-full","overflow-hidden","relative"],[1,"absolute","top-0","left-0","w-full","h-full","transition-all","duration-700","ease-in-out","transform",3,"ngClass"],[1,"w-full","h-full","p-6","flex","flex-col","items-center","justify-center","bg-white"],[1,"text-3xl","font-bold","text-center","mb-6"],[1,"w-full","max-w-md",3,"ngSubmit"],[1,"mb-4"],["type","email","name","mobileLoginEmail","placeholder","Correo","required","",1,"w-full","border","px-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],[1,"mb-4","relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","z-10"],["icon","mdi:lock","width","20","height","20",1,"text-black"],["name","loginPassword","placeholder","Contrase\xF1a","required","",1,"w-full","border","pl-12","pr-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","right-3","top-1/2","transform","-translate-y-1/2",3,"click"],["width","24","height","24",1,"text-gray-500","cursor-pointer",3,"icon"],["routerLink","/forgot-password",1,"mb-4","text-sm","text-gray-500","text-center"],["type","submit",1,"w-full","py-3","rounded-full","text-white","text-lg","font-semibold","transition","duration-300","bg-[#F28C7F]","hover:bg-[#e07a6e]"],[1,"mt-6"],[1,"text-gray-600","underline",3,"click"],[1,"absolute","top-4","left-1/2","z-20","w-[180px]","transform","transition-transform","duration-700","ease-in-out",3,"ngClass"],["src","../../assets/Logo_Megayuntas2.png","alt","Megayuntas",1,"w-full","max-w-full"],["type","text","name","mobileRegisterName","placeholder","Nombre","required","",1,"w-full","border","px-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["type","email","name","mobileRegisterEmail","placeholder","Correo","required","",1,"w-full","border","px-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["type","username","name","mobileRegisterUsername","placeholder","Username","required","",1,"w-full","border","px-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["type","password","name","mobileRegisterPassword","placeholder","Contrase\xF1a","required","",1,"w-full","border","px-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["type","password","name","mobileConfirmPassword","placeholder","Confirmar contrase\xF1a","required","",1,"w-full","border","px-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","py-3","rounded-full","text-white","text-lg","font-semibold","transition","duration-300","bg-[#00A89D]","hover:bg-[#009387]"],[1,"text-gray-600","underline"],["class","fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",4,"ngIf"],[1,"relative"],["icon","mdi:user","width","20","height","20",1,"text-black"],["type","username","name","loginEmail","placeholder","Usuario",1,"w-full","border","pl-12","pr-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["icon","mdi:account-box","width","20","height","20",1,"text-black"],["type","text","name","registerName","required","","minlength","4","pattern","^[a-zA-Z\xC0-\xFF\\\\s]{4,}$","placeholder","Nombre",1,"w-full","border","pl-12","pr-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["class","text-red-500 text-xs mt-1 ml-1 leading-tight",4,"ngIf"],["type","Username","name","registerUsername","required","","email","","placeholder","Usuario",1,"w-full","border","pl-12","pr-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["icon","mdi:email","width","20","height","20",1,"text-black"],["type","email","name","registerEmail","required","","email","","placeholder","Correo",1,"w-full","border","pl-12","pr-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],["name","registerPassword","required","","pattern","^(?=.*[A-Z])(?=.*[0-9])(?=.*[\\W_]).{6,}$","placeholder","Contrase\xF1a",1,"w-full","border","pl-12","pr-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","type","ngModel"],["icon","mdi:lock-check","width","20","height","20",1,"text-black"],["type","password","name","confirmPassword","required","","placeholder","Confirmar contrase\xF1a",1,"w-full","border","pl-12","pr-4","py-2","rounded-md","focus:outline-none","bg-gray-100",3,"ngModelChange","ngModel"],[1,"text-red-500","text-xs","mt-1","ml-1","leading-tight"],[4,"ngIf"],[1,"mt-4","text-red-500","text-center","text-sm"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-50","flex","items-center","justify-center","z-50"],["role","status",1,"spinner-border","animate-spin","text-white"],[1,"sr-only"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50","z-50"],[1,"bg-white","p-6","rounded-2xl","shadow-xl","w-80","animate-fade-in"],[1,"text-xl","font-bold","mb-5","text-center","text-gray-800"],["class","text-center mb-5 codigo",4,"ngIf"],[1,"text-sm","mb-3","text-center","text-gray-600"],["type","text","maxlength","6","placeholder","\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",1,"w-full","border","border-gray-300","focus:border-[#00A89D]","focus:ring","focus:ring-[#00A89D]/30","px-3","py-2","rounded-lg","text-center","text-lg","tracking-widest","mb-5","transition-all","outline-none",3,"ngModelChange","ngModel"],[1,"flex","justify-between"],[1,"bg-[#00A89D]","hover:bg-[#009387]","transition","text-white","px-4","py-2","rounded-lg","font-medium","w-1/2","mr-2",3,"click"],[1,"bg-gray-300","hover:bg-gray-400","transition","text-gray-800","px-4","py-2","rounded-lg","font-medium","w-1/2","ml-2",3,"click"],[1,"text-center","mb-5","codigo"],[3,"qrdata","width","errorCorrectionLevel"],[1,"text-gray-500","mt-2","text-sm"]],template:function(i,r){if(i&1){let o=te();u(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9),M(5,"img",10),d(),u(6,"h2",11),h(7),d(),I(8,Ni,17,4,"form",12)(9,ji,39,11,"form",12)(10,Ki,2,1,"div",13),d(),u(11,"div",14)(12,"div",15)(13,"h2",16),h(14),d(),u(15,"p",17),h(16),d(),u(17,"button",18),P("click",function(){return y(o),C(r.toggleMode())}),h(18),d()()()(),u(19,"div",19)(20,"div",20)(21,"div",21)(22,"div",22)(23,"h2",23),h(24,"Iniciar Sesi\xF3n"),d(),u(25,"form",24,0),P("ngSubmit",function(){y(o);let a=D(26);return C(r.onLogin(a))}),u(27,"div",25)(28,"input",26),T("ngModelChange",function(a){return y(o),L(r.loginData.user,a)||(r.loginData.user=a),C(a)}),d()(),u(29,"div",27)(30,"div",28),M(31,"iconify-icon",29),d(),u(32,"input",30),T("ngModelChange",function(a){return y(o),L(r.loginData.password,a)||(r.loginData.password=a),C(a)}),d(),u(33,"button",31),P("click",function(){return y(o),C(r.togglePasswordVisibility())}),M(34,"iconify-icon",32),d()(),u(35,"a",33),h(36,` \xBFOlvidaste tu contrase\xF1a?
`),d(),u(37,"button",34),h(38," Iniciar sesi\xF3n "),d()(),u(39,"div",35)(40,"button",36),P("click",function(){return y(o),C(r.toggleMode())}),h(41," \xBFNo tienes cuenta? Reg\xEDstrate "),d()(),I(42,Ji,2,1,"div",13),d()(),u(43,"div",21)(44,"div",37),M(45,"img",38),d(),u(46,"div",22)(47,"h2",23),h(48,"Registrarse"),d(),u(49,"form",24),P("ngSubmit",function(){return y(o),C(r.onRegister())}),u(50,"div",25)(51,"input",39),T("ngModelChange",function(a){return y(o),L(r.registerData.nombres,a)||(r.registerData.nombres=a),C(a)}),d()(),u(52,"div",25)(53,"input",40),T("ngModelChange",function(a){return y(o),L(r.registerData.email,a)||(r.registerData.email=a),C(a)}),d()(),u(54,"div",25)(55,"input",41),T("ngModelChange",function(a){return y(o),L(r.registerData.username,a)||(r.registerData.username=a),C(a)}),d()(),u(56,"div",25)(57,"input",42),T("ngModelChange",function(a){return y(o),L(r.registerData.password,a)||(r.registerData.password=a),C(a)}),d()(),u(58,"div",25)(59,"input",43),T("ngModelChange",function(a){return y(o),L(r.registerData.confirmPassword,a)||(r.registerData.confirmPassword=a),C(a)}),d()(),u(60,"button",44),h(61," Registrarse "),d()(),u(62,"div",35)(63,"button",45),h(64," \xBFYa tienes cuenta? Inicia sesi\xF3n "),d()(),I(65,Yi,2,1,"div",13),d()()()()(),I(66,Gi,4,0,"div",46),d(),I(67,Xi,13,2,"div",47)}i&2&&(c(3),m("ngClass",r.isLoginMode?"translate-x-0 opacity-100":"translate-x-full opacity-100"),c(),m("ngClass",r.isLoginMode?"-translate-x-[1%] scale-100 ":"translate-x-[65%] scale-100"),c(3),fe(r.isLoginMode?"Iniciar Sesi\xF3n":"Registrarse"),c(),m("ngIf",r.isLoginMode),c(),m("ngIf",!r.isLoginMode),c(),m("ngIf",r.error),c(),m("ngClass",r.isLoginMode?"translate-x-0 bg-[#00A89D] rounded-l-[80%]":"-translate-x-full bg-[#F28C7F] rounded-r-[80%]"),c(3),fe(r.isLoginMode?"\xA1Bienvenido!":"\xA1Hola!"),c(2),fe(r.isLoginMode?"Ingrese sus datos para utilizar m\xE1s funciones en el sitio":"Reg\xEDstrese para utilizar m\xE1s funciones en el sitio"),c(2),ne(" ",r.isLoginMode?"Registrate":"Iniciar sesi\xF3n"," "),c(3),m("ngClass",r.isLoginMode?"translate-x-0":"-translate-x-full"),c(7),S("ngModel",r.loginData.user),c(4),m("type",r.showPassword?"text":"password"),S("ngModel",r.loginData.password),c(2),m("icon",r.showPassword?"mdi:eye-off":"mdi:eye"),c(8),m("ngIf",r.error),c(),m("ngClass",r.isLoginMode?"translate-x-full":"translate-x-0"),c(),m("ngClass",r.isLoginMode?"-translate-x-1/2 translate-x-0":"-translate-x-1/2 translate-x-full"),c(7),S("ngModel",r.registerData.nombres),c(2),S("ngModel",r.registerData.email),c(2),S("ngModel",r.registerData.username),c(2),S("ngModel",r.registerData.password),c(2),S("ngModel",r.registerData.confirmPassword),c(6),m("ngIf",r.error),c(),m("ngIf",r.isLoading),c(),m("ngIf",r.mostrarModalOTP))},dependencies:[ft,ct,gt,wt,pt,It,Et,yt,Ct,_t,Mt,St,Lt,Tt,vt,bt,xt,Nn,Rn],styles:[".transition-all[_ngcontent-%COMP%]{transition-property:all}@media (min-width: 768px){.md\\:hidden[_ngcontent-%COMP%]{display:none}}@media (max-width: 767px){.absolute.inset-0[_ngcontent-%COMP%]{display:none}}.spinner-border[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-top:4px solid #fff;border-radius:50%;width:3rem;height:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out forwards}.codigo[_ngcontent-%COMP%]{margin:35px!important}"]})}}return n})();export{Qr as LoginComponent};
